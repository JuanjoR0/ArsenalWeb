<div class="modal-backdrop" *ngIf="visible">
  <div class="modal-container">
    <div class="modal-header">
      <h2 *ngIf="modo === 'crear'">Nueva Arma</h2>
      <h2 *ngIf="modo === 'editar'">Editar Arma</h2>
      <h2 *ngIf="modo === 'eliminar'">Eliminar Arma</h2>
      <button class="close-btn" (click)="onCerrar()">‚úï</button>
    </div>

    <!-- üîπ Formulario -->
    <div class="modal-body" *ngIf="modo !== 'eliminar'">

      <!-- Nombre -->
      <label>Nombre:</label>
      <input type="text" [(ngModel)]="arma.nombre" placeholder="Nombre del arma" />

      <label>Categor√≠a:</label>
      <select [(ngModel)]="arma.categoria" [ngModelOptions]="{ standalone: true }">
        <option [ngValue]="null">-- Selecciona categor√≠a --</option>
        <option *ngFor="let c of categorias" [ngValue]="c">{{ c.nombre }}</option>
      </select>


      <!-- Alcance / Da√±o / Precisi√≥n -->
      <div class="stats-grid">
        <div>
          <label>Alcance (%)</label>
          <input type="number" [(ngModel)]="arma.alcance" min="0" max="100" />
        </div>
        <div>
          <label>Da√±o (%)</label>
          <input type="number" [(ngModel)]="arma.danio" min="0" max="100" />
        </div>
        <div>
          <label>Precisi√≥n (%)</label>
          <input type="number" [(ngModel)]="arma.precision" min="0" max="100" />
        </div>
      </div>

      <!-- Precio -->
      <label>Precio (‚Ç¨):</label>
      <input type="number" [(ngModel)]="arma.precio" />

      <!-- Imagen -->
      <label>Imagen:</label>
      <input type="file" accept="image/*" (change)="onImagenSeleccionada($event)" />
      <!--<div class="preview" *ngIf="imagenPreview">
        <img [src]="imagenPreview" alt="Vista previa" />
      </div>-->

      <!-- Descripci√≥n -->
      <label>Descripci√≥n:</label>
      <textarea [(ngModel)]="arma.descripcion"></textarea>
    </div>

    <!-- üî¥ Confirmaci√≥n de eliminaci√≥n -->
    <div class="modal-body" *ngIf="modo === 'eliminar'">
      <p>¬øSeguro que deseas eliminar <strong>{{ arma.nombre }}</strong>?</p>
    </div>

    <!-- üîò Footer -->
    <div class="modal-footer">
      <button class="cancelar" (click)="onCerrar()">Cancelar</button>
      <button *ngIf="modo !== 'eliminar'" class="guardar" (click)="onGuardar()">
        {{ modo === 'crear' ? 'Crear' : 'Guardar' }}
      </button>
      <button *ngIf="modo === 'eliminar'" class="eliminar" (click)="onEliminar()">Eliminar</button>
    </div>
  </div>
</div>
