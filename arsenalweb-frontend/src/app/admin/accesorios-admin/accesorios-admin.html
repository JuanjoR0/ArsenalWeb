<div class="accesorios-admin">
  <div class="crud-header">
    <h2>Gesti√≥n de Accesorios</h2>
    <div class="acciones">
      <input
        type="text"
        placeholder="üîç Buscar accesorio..."
        [(ngModel)]="searchTerm"
        (keyup)="buscarAccesorios()"
      />
      <button class="btn-nueva" (click)="abrirModalCrear()">‚ûï Nuevo Accesorio</button>
    </div>
  </div>

  <table class="crud-table" *ngIf="accesorios.length > 0; else sinAccesorios">
    <thead>
      <tr>
        <th>ID</th>
        <th>Imagen</th>
        <th>Nombre</th>
        <th>Tipo</th>
        <th>Descripci√≥n</th>
        <th>Precio</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let acc of accesorios">
        <td>{{ acc.id }}</td>
        <td>
          <img
            [src]="acc.imagen || '/assets/no-image.png'"
            [alt]="acc.nombre"
            class="accesorio-img"
          />
        </td>
        <td>{{ acc.nombre }}</td>
        <td>{{ acc.tipo }}</td>
        <td>{{ acc.descripcion }}</td>
        <td>{{ acc.precio }} ‚Ç¨</td>
        <td>
          <!-- üëá ahora abren el modal -->
          <button class="edit" (click)="abrirModalEditar(acc)">‚úèÔ∏è</button>
          <button class="delete" (click)="abrirModalEliminar(acc)">‚ùå</button>
        </td>
      </tr>
    </tbody>
  </table>

  <app-accesorio-modal
  [visible]="modalVisible"
  [modo]="modalModo"
  [accesorio]="accesorioSeleccionado"
  (cerrar)="cerrarModal()"
  (guardar)="guardarAccesorio($event)"
  (confirmarEliminar)="eliminarAccesorioConfirmada()"
></app-accesorio-modal>


  <ng-template #sinAccesorios>
    <p class="mensaje-vacio">No hay accesorios disponibles o coincidentes con la b√∫squeda.</p>
  </ng-template>
</div>
